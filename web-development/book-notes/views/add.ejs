<%- include('partials/header') %>

<div class="container">
  <h1>Add New Book</h1>
  
  <% if (typeof error !== 'undefined') { %>
    <div class="error"><%= error %></div>
  <% } %>
  
  <form method="POST" action="/add" class="book-form">
    <div class="form-group">
      <label for="title">Title</label>
      <input type="text" id="title" name="title" required value="<%= typeof formData !== 'undefined' ? formData.title : '' %>">
    </div>
    
    <div class="form-group">
      <label for="author">Author</label>
      <input type="text" id="author" name="author" required value="<%= typeof formData !== 'undefined' ? formData.author : '' %>">
    </div>
    
    <div class="form-group">
      <label for="isbn">ISBN (Optional - for book covers)</label>
      <input type="text" id="isbn" name="isbn" value="<%= typeof formData !== 'undefined' ? formData.isbn : '' %>">
    </div>
    
    <div class="form-group">
      <label for="rating">Rating (1-10)</label>
      <input type="number" id="rating" name="rating" min="1" max="10" required value="<%= typeof formData !== 'undefined' ? formData.rating : '8' %>">
    </div>
    
    <div class="form-group">
      <label for="date_read">Date Read</label>
      <input type="date" id="date_read" name="date_read" required value="<%= typeof formData !== 'undefined' ? formData.date_read : new Date().toISOString().split('T')[0] %>">
    </div>
    
    <div class="form-group">
      <label for="notes">Notes</label>
      <textarea id="notes" name="notes" rows="10" required><%= typeof formData !== 'undefined' ? formData.notes : '' %></textarea>
    </div>
    
    <div class="form-buttons">
      <button type="submit" class="btn">Add Book</button>
      <a href="/" class="btn btn-secondary">Cancel</a>
    </div>
  </form>
</div>

<%- include('partials/footer') %>